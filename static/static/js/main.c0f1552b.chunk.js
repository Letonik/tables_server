(this.webpackJsonptables_client=this.webpackJsonptables_client||[]).push([[0],{16:function(e,t,n){e.exports={pagination:"Pagination_pagination___zJyf",active:"Pagination_active__2nTSl"}},25:function(e,t,n){e.exports={app:"App_app__17rG3"}},29:function(e,t,n){e.exports={tableBlock:"TableBlock_tableBlock__SUdYu"}},30:function(e,t,n){e.exports={table:"Table_table__NN9G1"}},31:function(e,t,n){e.exports={emptyElement:"EmptyElement_emptyElement__3C2vq"}},32:function(e,t,n){e.exports={preloader:"Preloader_preloader__3KmkC"}},39:function(e,t,n){},40:function(e,t,n){},5:function(e,t,n){e.exports={sortBar:"SortBar_sortBar__1p15-",wrapper:"SortBar_wrapper__jGBQj",error:"SortBar_error__1UcDO"}},67:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(11),o=n.n(r),i=(n(39),n(25)),l=n.n(i),s=(n(40),n(0)),u=function(){return Object(s.jsx)("header",{children:"Hello Dmitry"})},j=n(6),b=n(4),d=n(15),p=n.n(d),O=n(27),v=n(3),h=n(28).create({crossDomain:!0,withCredentials:!0,baseURL:"http://table.na4u.ru/api/",credentials:"include"}),f=function(e,t,n,a){var c="";return t&&n&&a&&(c="&column=".concat(t,"&operator=").concat(n,"&value=").concat(a)),h.get("table?page=".concat(e).concat(c))},x="SET_PAGE",m="SET_TABLE",g="SET_IS_LOADING",_={page:1,count:0,value:void 0,operator:"",column:"",dataTable:[],isLoading:!1},T=function(e,t,n,a,c){return{type:m,dataTable:e,count:t,column:n,operator:a,value:c}},y=function(e){return{type:g,isLoading:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(v.a)(Object(v.a)({},e),{},{page:t.page});case m:return Object(v.a)(Object(v.a)({},e),{},{dataTable:t.dataTable,count:t.count,column:t.column,operator:t.operator,value:t.value});case g:return Object(v.a)(Object(v.a)({},e),{},{isLoading:t.isLoading});default:return e}},E=function(e){return e.table.page},S=function(e){return e.table.count},N=function(e){return e.table.column},C=function(e){return e.table.operator},k=function(e){return e.table.value},P=function(e){return e.table.dataTable},D=function(e){return e.table.isLoading},w=n(29),q=n.n(w),L=n(30),A=n.n(L),G=function(e){var t=e.dataTable;return Object(s.jsxs)("table",{className:A.a.table,children:[Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"City"}),Object(s.jsx)("th",{children:"Amount"}),Object(s.jsx)("th",{children:"Distance (km)"})]}),t.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.my_date.split("T")[0]}),Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:e.amount}),Object(s.jsx)("td",{children:e.distance})]})}))]})},I=n(7),J=n(5),M=n.n(J),U=function(e){var t=Object(a.useState)(e),n=Object(I.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(!1),i=Object(I.a)(o,2),l=i[0],s=i[1],u=function(e){var t=Object(a.useState)(!0),n=Object(I.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){r(!e)}),[e]),c}(c);return{value:c,onChange:function(e){r(e.target.value)},onBlur:function(){s(!0)},isDirty:l,valid:u}},F=function(e){var t=e.requestTable,n=e.setPage,c=Object(a.useState)(!0),r=Object(I.a)(c,2),o=r[0],i=r[1],l=U(""),u=U(""),j=U("");Object(a.useEffect)((function(){l.valid||u.valid||j.valid?i(!0):i(!1)}),[l.valid,u.valid,j.valid]);return Object(s.jsx)("div",{className:M.a.sortBar,children:Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n(1),t(1,l.value,u.value,j.value)},children:[Object(s.jsxs)("div",{className:M.a.wrapper,children:[Object(s.jsxs)("div",{children:[Object(s.jsxs)("select",{onChange:l.onChange,onBlur:l.onBlur,value:l.value,name:"column",children:[Object(s.jsx)("option",{value:"",children:"Column"}),Object(s.jsx)("option",{value:"name",children:"city"}),Object(s.jsx)("option",{value:"amount",children:"amount"}),Object(s.jsx)("option",{value:"distance",children:"distance"})]}),l.isDirty&&l.valid&&Object(s.jsx)("div",{className:M.a.error,children:"should not be empty"})]}),Object(s.jsxs)("div",{children:[Object(s.jsxs)("select",{onChange:u.onChange,onBlur:u.onBlur,value:u.value,name:"operator",children:[Object(s.jsx)("option",{value:"",children:"Must be"}),Object(s.jsx)("option",{value:"=",children:"equals"}),Object(s.jsx)("option",{value:"<",children:"less"}),Object(s.jsx)("option",{value:">",children:"more"}),Object(s.jsx)("option",{value:"like",children:"contains"})]}),u.isDirty&&u.valid&&Object(s.jsx)("div",{className:M.a.error,children:"should not be empty"})]})]}),Object(s.jsxs)("div",{className:M.a.wrapper,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{onChange:j.onChange,onBlur:j.onBlur,value:j.value,name:"searchValue",type:"text",placeholder:"Type value..."}),j.isDirty&&j.valid&&Object(s.jsx)("div",{className:M.a.error,children:"should not be empty"})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{disabled:o,type:"submit",children:"Search"})})]})]})})},R=n(34),V=n(16),X=n.n(V),Y=function(e){var t=e.page,n=e.count,r=e.setPage,o=Object(a.useMemo)((function(){for(var e=Math.ceil(n/10),t=[],a=1;a<=e;a++)t=[].concat(Object(R.a)(t),[a]);return t}),[n]);return Object(s.jsxs)("div",{className:X.a.pagination,children:[Object(s.jsx)("div",{onClick:function(){1!==t&&r(t-1)},children:"<"}),o.map((function(e){return Object(s.jsxs)(c.a.Fragment,{children:[t!==e&&Object(s.jsx)("div",{onClick:function(){return r(e)},children:e}),t===e&&Object(s.jsx)("div",{onClick:function(){return r(e)},className:X.a.active,children:e})]},e)})),Object(s.jsx)("div",{onClick:function(){t!==o.length&&r(t+1)},children:">"})]})},z=n(31),H=n.n(z),K=function(){return Object(s.jsx)("div",{className:H.a.emptyElement,children:"Your search parameters did not match any information. Please try different search."})},Q=function(e){var t=e.dataTable,n=e.page,a=e.count,c=e.setPage,r=e.requestTable;return Object(s.jsxs)("div",{className:q.a.tableBlock,children:[Object(s.jsx)(F,{requestTable:r,setPage:c}),0===t.length?Object(s.jsx)(K,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(G,{dataTable:t}),Object(s.jsx)(Y,{page:n,count:a,setPage:c})]})]})},W=Object(b.c)(Object(j.b)((function(e){return{dataTable:P(e),page:E(e),count:S(e),column:N(e),operator:C(e),value:k(e)}}),{requestTable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){var c=Object(O.a)(p.a.mark((function c(r){var o;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r(y(!0)),c.next=4,f(e,t,n,a);case 4:o=c.sent,o=JSON.parse(o.data),r(T(o[1],o[0].count,t,n,a)),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:return c.prev=12,r(y(!1)),c.finish(12);case 15:case"end":return c.stop()}}),c,null,[[0,9,12,15]])})));return function(e){return c.apply(this,arguments)}}()},setPage:function(e){return{type:x,page:e}}}))((function(e){return Object(a.useEffect)((function(){e.column&&e.operator&&e.value?e.requestTable(e.page,e.column,e.operator,e.value):e.requestTable(e.page)}),[e.page]),Object(s.jsx)(Q,{dataTable:e.dataTable,page:e.page,count:e.count,setPage:e.setPage,requestTable:e.requestTable})}));n(32),n.p;var Z=function(){return Object(j.c)(D),Object(s.jsxs)("div",{className:l.a.app,children:[Object(s.jsx)(u,{}),Object(s.jsx)(W,{})]})},$=n(33),ee=Object(b.b)({table:B}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,ne=Object(b.d)(ee,te(Object(b.a)($.a)));o.a.render(Object(s.jsx)(j.a,{store:ne,children:Object(s.jsx)(Z,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.c0f1552b.chunk.js.map